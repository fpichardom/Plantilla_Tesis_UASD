%%%%%%%%%%%%%%% Seleccion del tipo de documento y formato de página%%%%%%%%%%%%%

\documentclass[oneside,% formato de páginas de un solo lado
               openany,% los capítulos pueden empezar en cualquier página
               letterpaper,% tamaño de papel ocho y medio por onze
               12pt]% tamaño de letra normal de 12pt 
               {book} % clase libro
\usepackage{geometry} % permite dar opciones de configuración de página
\geometry{top=1in,% tamaño del margen superior
          bottom=1in,% tamaño del margen inferior
          left=1.5in,% tamaño del margen izquierdo
          right=1in,% tamaño del margen derecho
          %showframe
          }% tamaño del margen derecho
          % -- margin,marginparwidth, landscape,a4paper
          
%%%%%%%%%%%%%%%%%% Configuración de los encabezados de capítulos, secciones y demás%%%%%%%%%%%%%%%%%%%%%

\usepackage{titlesec} % permite modificar los encabezados de las distintas partes del documento
\usepackage{color}% permite añadir colores al documento
\definecolor{gray75}{gray}{0.75} %define el comando para un color
\newcommand{\hspdiez}{\hspace{10pt}} % crea un nuevo comando para dejar un espacio horizontal de 10 pt
\titleformat{\chapter}[hang]{\centering\Large\bfseries}{\thechapter.\hspdiez}{0pt}{\Large\bfseries}
\titleformat{\section}{\normalfont\bfseries}{\thesection.}{0.5em}{\normalfont\bfseries}
\titlespacing{\chapter}{0pt}{0pt}{5ex}
%%%%%%%%%%%%%%%%%%%%%%%%%Configurar el encabezado y pie de página%%%%%%%%%%%%%%%%%%

\usepackage{fancyhdr}
\fancyhf{}
\rhead{\thepage}
\renewcommand{\headrulewidth}{0pt}
\fancypagestyle{plain}{%
	\fancyhf{}
	\rhead{\thepage}
	\renewcommand{\headrulewidth}{0pt}}
\pagestyle{fancy}
\setlength{\headheight}{15pt}
%%%%%%%%%%%%%%%%%%%%%%%%Configuración general%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\usepackage[utf8]{inputenc} % compatibilidad con encoding utf8, de manera que se pueden codificar directamente ciertos caracteres especiales en latex como los acentos
\usepackage[T1]{fontenc} % paquete relacionado con el encoding de las letras en el documento
\usepackage[spanish,english]{babel} %permite la compatibilidad con diferentes idiomas
\usepackage{mathptmx}  % Letra Times New Roman; otros tipos de letra (e.g. lmodern)
\usepackage{microtype} % mejor tipografía para pdflatex
\usepackage{csquotes} % mejores comillas
\usepackage[shortlabels]{enumitem} % añade mejor control para la configuración de listas
\usepackage{booktabs} % mejores reglas horizontales para tablas
\usepackage{array} % permite más control del tamaño de celdas en una tabla
\usepackage{graphicx} % permite añadir y manejar imágenes en el documento
\graphicspath{ {./imagenes/} } % localidad del archivo de imagenes
\usepackage{setspace} % permite configurar los espacios de interlineado
\doublespacing % configura el documento en espacio doble --
\usepackage{lipsum} % permite introducir texto Lorem Ipsum para probar el formato de la página
\usepackage{indentfirst} % Crea una sangría en el primer párrafo de cada capítulo, si se desea el estilo predeterminado comentar esta línea
\setlength\parindent{5ex} % argumento para modificar el tamaño de las sangrías en el texto. Comentar esta línea para obtener el valor predeterminado
\usepackage{siunitx} % configura unidades de medidas en ciencia
\usepackage{pdflscape} % cambia la orientación de la página deseada

%%%%%%%%%%%%%%%%%%%%% Configuración de la bibliografía %%%%%%%%%%%%%%%%%%%%%%%%%%

\usepackage[%
backend=biber,% utiliza biber para procesar el archivo de bibliografía
style=authoryear-icomp,% estilo de citas por autor y año
sorting=nyt,% orden de las citas por nombre, año y título
natbib=true,% permite compatibilidad con los comandos citep y citet de natbib
uniquename=init,%
giveninits,%
url=false,%
doi=false,%
hyperref=true,%
maxbibnames=10,% permite un máximo de diez autores en a bibliografía
maxnames=2]% permite un máximo de dos autores en la citas
{biblatex} % paquete que permite la configuración de las citas bibliográficas
%\DeclareNameAlias{sortname}{last-first}
%%%\DeclareFieldFormat[article]{title}{#1}
%%%\DeclareFieldFormat[article]{journaltitle}{#1}
\DeclareFieldFormat[book]{title}{#1}
\DeclareFieldFormat[article]{pages}{#1}
\DeclareFieldFormat[article,inbook,incollection,inproceedings,patent,thesis,unpublished]{title}{#1\isdot} % remueve las comillas de los títulos en la bibliografía
\DeclareFieldFormat[article]{journaltitle}{#1} % escribe el nombre de la revista en letra normal y no italizada

\renewbibmacro{in:}{%
 \ifentrytype{article}{}{\printtext{\bibstring{in}\intitlepunct}}}

\usepackage{xpatch}
\xpatchbibmacro{journal+issuetitle}{%
  \setunit*{\addspace}%
  \iffieldundef{series}}
  {%
  \setunit*{\addcomma\space}%
  \iffieldundef{series}}{}{}

\renewcommand\bibpagespunct{\ifentrytype{article}{\addcolon}{\addcomma}\space}
\renewbibmacro*{volume+number+eid}{%
  \printfield{volume}
  \printfield[parens]{number}%
  \setunit{\addcomma\space}%
  \printfield{eid}}

\xpatchbibmacro{date+extrayear}{%
  \printtext[parens]%
}{%
  \setunit*{\addperiod\space}%
  \printtext%
}{}{}

\addbibresource{referencias.bib} % nombre del archivo con las referencias en formato bib(la)Tex
\DefineBibliographyStrings{spanish}{%
	andothers={et~al\adddot},% las citas con más de dos autores terminarán en "et. al" y no en "y col." 
	bibliography={Literatura Citada}} % cambia el título de la bibliografía por Literatura Citada




%%%%%%%%%%Declaración para biblatex 3.4 y biber 2.5%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%	SOLUCIÓN NO FUNCIONA PARA BIBLATEX 3.3 Y NO ES NECESARIO A PARTIR DE LA VERSIÓN 3.5
\DeclareDelimFormat[cbx@textcite]{nameyeardelim}{\addspace} % se necesita para compensar un bug de la versión 3.4 biblatex donde cita de la manera autor, (año) en lugar de autor (año).

%\DeclareNameAlias{sortname}{last-first}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\usepackage[colorlinks=true, allcolors=black]{hyperref} % permite la creación de links en el texto, es mejor cargar este paquete al final del preámbulo

%%%%%%%%%%%%%%%% Paquetes opcionales, chequear la describción %%%%%%%%%%%%%%%%%%%%%%
%\usepackage{parskip} % maneja la identación de los párrafos, mirar mejor
%\usepackage{url} % mejor compatibilidad con enlaces url en el texto
%\usepackage{todonotes} % add notes of things to add to the manuscript
%\usepackage{verbatim} % permite crear comentarios multilínea
% % handle line spacing

